let bases,newBases,buttonPress;function getBases(e){const t=e.value;bases=t?JSON.parse(t):"";const n=document.getElementById("bases");n.style.willChange="contents";const s=new Array;for(let e=0;e<bases.length;e++){const t=bases[e],n=e,r=t.Name;"FreighterBase"==t.BaseType.PersistentBaseTypes&&s.unshift(buildImmovable("Freighterbase"));const o=buildElement(n,r);s.push(o)}n.innerHTML=s.join(""),document.querySelectorAll("#checkboxes input").forEach((e=>{extraItem(e)})),n.style.willChange="";new Sortable(n,{animation:250,filter:".immovable",onChoose:function(e){e.item.style.willChange="transform"},onEnd:function(e){e.item.style.willChange=""}})}function buildImmovable(e){const t=document.createElement("div");return t.id=e,t.innerText=e,t.classList.add("immovable"),t.outerHTML}function buildElement(e,t){const n=t?"div":"span",s=document.createElement(n);s.id=e,s.innerText=t;return s.outerHTML}function extraItem(e){const t=e.value;if(e.checked){if(document.getElementById(t))return;const e=buildImmovable(t);document.getElementById("bases").insertAdjacentHTML("afterbegin",e)}else{const e=document.querySelector(`#bases > #${t}`);if(!e)return;document.getElementById("bases").removeChild(e)}}function getDivOrder(){const e=new Array,t=Array.from(document.getElementById("bases").children);for(const n of t)isNaN(n.id)||e.push(parseInt(n.id));return e}function outputJSON(){const e=new Array,t=getDivOrder();for(let n=0;n<bases.length;n++)e[n]=bases[t[n]];newBases=e}function copyButton(e){if(buttonPress)return;const t=e.innerHTML;buttonPress=!0;try{outputJSON()}catch(n){return e.classList.remove("is-primary"),e.classList.add("is-danger"),e.innerHTML="Failed!",setTimeout((()=>{e.classList.remove("is-danger"),e.classList.add("is-primary"),e.innerHTML=t,buttonPress=!1}),1500),void console.error(n)}const n=JSON.stringify(newBases,null,"\t");navigator.clipboard.writeText(n),e.innerHTML="Copied!",setTimeout((()=>{e.innerHTML=t,buttonPress=!1}),1500)}
